# 消息订阅

:::highlight purple 
#### Q：什么时候需要消息订阅服务？
在开发消息自动回复等需要消息交互类的业务，我们往往需要监听群的消息内容/好友的消息内容。根据内容进行消息回复/踢人/拉人等业务操作。
:::

:::highlight purple 
#### Q：回调服务怎么配置？
我们需要登录[API后台系统](http://manager.geweapi.com/#/account/index)， 点击“访问控制-填写回调地址” ，将您的消息接收地址设置成功，后续此Toekn下登录的所有微信机器人，收到消息都会自动转发到您设置的回调接口地址
:::

:::highlight purple 
<Background>
![image.png](https://api.apifox.cn/api/v1/projects/3475559/resources/430903/image-preview)
    </Background>
:::

:::highlight purple 
#### Q：开发者需要提供的回调接口要求？
- 微信消息是POST application/json请求您设置的回调接口地址。（您可以直接打印请求body体，可详细看到所有消息参数）
- 消息回调接口必须在3秒内响应，否则平台将放弃本次请求结果，回调接口可直接返回空字符串
- 机器人通过接口发送的消息不会有回调，因为回调是接收消息，发送不属于接收，但是手机微信发送的消息也会有，因为这属于消息多端同步，IM的原理
- 配置成功后，会接收一条包含文字“验证回调地址是否可用”的JSON回调
- 注意：回调接口必须发布到公网，也就是第三方可以访问的（临时测试可用内网穿透一类的，但是网速不稳定可能丢消息），若是显示回调验证失败，您可以用Apifox访问您的回调接口验证是否可访问。
:::
