# 同步私信消息

## OpenAPI Specification

```yaml
openapi: 3.0.1
info:
  title: ''
  description: ''
  version: 1.0.0
paths:
  /gewe/v2/api/finder/syncPrivateLetterMsg:
    post:
      summary: 同步私信消息
      deprecated: false
      description: ''
      tags:
        - 基础API/视频号模块
      parameters:
        - name: X-GEWE-TOKEN
          in: header
          description: ''
          required: true
          example: '{{gewe-token}}'
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                appId:
                  type: string
                  description: 设备ID
                keyBuff:
                  type: string
                  description: 首次传空，后续传接口返回的keyBuff
              required:
                - appId
              x-apifox-orders:
                - appId
                - keyBuff
            example:
              appId: '{{appid}}'
              proxyIp: ''
              keyBuff: ''
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties:
                  ret:
                    type: integer
                  msg:
                    type: string
                  data:
                    type: object
                    properties:
                      list:
                        type: array
                        items:
                          type: object
                          properties:
                            syncKeyType:
                              type: integer
                            itemType:
                              type: integer
                            content:
                              type: object
                              properties:
                                msg:
                                  type: object
                                  properties:
                                    MsgId:
                                      type: integer
                                      description: 消息ID
                                    FromUserName:
                                      type: object
                                      properties:
                                        string:
                                          type: string
                                      required:
                                        - string
                                      x-apifox-orders:
                                        - string
                                      description: 发送人的username
                                    ToUserName:
                                      type: object
                                      properties:
                                        string:
                                          type: string
                                      required:
                                        - string
                                      x-apifox-orders:
                                        - string
                                      description: 接收人的username
                                    MsgType:
                                      type: integer
                                      description: 消息类型
                                    Content:
                                      type: object
                                      properties:
                                        string:
                                          type: string
                                      required:
                                        - string
                                      x-apifox-orders:
                                        - string
                                      description: 消息内容
                                    Status:
                                      type: integer
                                    ImgStatus:
                                      type: integer
                                    ImgBuf:
                                      type: object
                                      properties:
                                        iLen:
                                          type: integer
                                      required:
                                        - iLen
                                      x-apifox-orders:
                                        - iLen
                                      description: 发送时间
                                    CreateTime:
                                      type: integer
                                    MsgSource:
                                      type: string
                                    NewMsgId:
                                      type: integer
                                      description: 消息newmsgid
                                    MsgSeq:
                                      type: integer
                                  required:
                                    - MsgId
                                    - FromUserName
                                    - ToUserName
                                    - MsgType
                                    - Content
                                    - Status
                                    - ImgStatus
                                    - ImgBuf
                                    - CreateTime
                                    - MsgSource
                                    - NewMsgId
                                    - MsgSeq
                                  x-apifox-orders:
                                    - MsgId
                                    - FromUserName
                                    - ToUserName
                                    - MsgType
                                    - Content
                                    - Status
                                    - ImgStatus
                                    - ImgBuf
                                    - CreateTime
                                    - MsgSource
                                    - NewMsgId
                                    - MsgSeq
                                msgSessionId:
                                  type: string
                                  description: 发私信消息时用到的sessionid
                                seq:
                                  type: integer
                                extinfo:
                                  type: string
                                isSender:
                                  type: integer
                                  description: 是不是自己发的消息，是：1  否：0
                              required:
                                - msg
                                - msgSessionId
                                - seq
                                - extinfo
                                - isSender
                              x-apifox-orders:
                                - msg
                                - msgSessionId
                                - seq
                                - extinfo
                                - isSender
                              description: 消息内容
                            subType:
                              type: integer
                              description: 消息类型
                          required:
                            - syncKeyType
                            - itemType
                            - content
                            - subType
                          x-apifox-orders:
                            - syncKeyType
                            - itemType
                            - content
                            - subType
                      keyBuff:
                        type: string
                        description: 翻页的key，请求翻页时会用到
                    required:
                      - list
                      - keyBuff
                    x-apifox-orders:
                      - list
                      - keyBuff
                required:
                  - ret
                  - msg
                  - data
                x-apifox-orders:
                  - ret
                  - msg
                  - data
              example:
                ret: 200
                msg: 操作成功
                data:
                  list:
                    - syncKeyType: 1
                      itemType: 1
                      content:
                        msg:
                          MsgId: 1
                          FromUserName:
                            string: wxid_0xsqb3o0tsvz22
                          ToUserName:
                            string: >-
                              v2_060000231003b20faec8c6e18f10c7d6c903ec3db0776955d3d97c6b329d6aa58693bcdb7ad1@finder
                          MsgType: 1
                          Content:
                            string: '1'
                          Status: 3
                          ImgStatus: 1
                          ImgBuf:
                            iLen: 0
                          CreateTime: 1706084719
                          MsgSource: <msgsource><pua>1</pua></msgsource>
                          NewMsgId: 5871873953492479000
                          MsgSeq: 1
                        msgSessionId: >-
                          ee06e16a186756394a271218d7dd31f65d3d6aa43dc02a1ec23758f588836d53@findermsg
                        seq: 1
                        extinfo: CAEQAQ==
                        isSender: 1
                      subType: 0
                    - syncKeyType: 5
                      itemType: 1
                      content:
                        msg:
                          MsgId: 2
                          FromUserName:
                            string: >-
                              v2_060000231003b20faec8c6e18f10c7d6c903ec3db0776955d3d97c6b329d6aa58693bcdb7ad1@finder
                          ToUserName:
                            string: >-
                              v2_060000231003b20faec8c7e28811c4d5cc0ded37b0779c48c759a7446a87688c2774e5300c32@finder
                          MsgType: 1
                          Content:
                            string: '12'
                          Status: 3
                          ImgStatus: 1
                          ImgBuf:
                            iLen: 0
                          CreateTime: 1706084785
                          MsgSource: >-
                            <msgsource><bizflag>0</bizflag><pua>1</pua></msgsource>
                          NewMsgId: 1054704077635816600
                          MsgSeq: 2
                        msgSessionId: >-
                          3eab1521919d4531c83a166faa56cf844737c4a295b127f3edcb68ed4375d049@findermsg
                        seq: 2
                        extinfo: CAEQAQ==
                        isSender: 0
                      subType: 2
                    - syncKeyType: 5
                      itemType: 1
                      content:
                        msg:
                          MsgId: 3
                          FromUserName:
                            string: >-
                              v2_060000231003b20faec8c7e28811c4d5cc0ded37b0779c48c759a7446a87688c2774e5300c32@finder
                          ToUserName:
                            string: >-
                              v2_060000231003b20faec8c6e18f10c7d6c903ec3db0776955d3d97c6b329d6aa58693bcdb7ad1@finder
                          MsgType: 1
                          Content:
                            string: 文本
                          Status: 3
                          ImgStatus: 1
                          ImgBuf:
                            iLen: 0
                          CreateTime: 1706084840
                          MsgSource: ''
                          NewMsgId: 243683914400108300
                          MsgSeq: 3
                        msgSessionId: >-
                          3eab1521919d4531c83a166faa56cf844737c4a295b127f3edcb68ed4375d049@findermsg
                        seq: 3
                        extinfo: CAIQAw==
                        isSender: 1
                      subType: 2
                    - syncKeyType: 5
                      itemType: 1
                      content:
                        msg:
                          MsgId: 4
                          FromUserName:
                            string: >-
                              v2_060000231003b20faec8c7e28811c4d5cc0ded37b0779c48c759a7446a87688c2774e5300c32@finder
                          ToUserName:
                            string: >-
                              v2_060000231003b20faec8c6e18f10c7d6c903ec3db0776955d3d97c6b329d6aa58693bcdb7ad1@finder
                          MsgType: 1
                          Content:
                            string: 文本
                          Status: 3
                          ImgStatus: 1
                          ImgBuf:
                            iLen: 0
                          CreateTime: 1706084898
                          MsgSource: ''
                          NewMsgId: 7648226390526412000
                          MsgSeq: 4
                        msgSessionId: >-
                          3eab1521919d4531c83a166faa56cf844737c4a295b127f3edcb68ed4375d049@findermsg
                        seq: 4
                        extinfo: CAIQAw==
                        isSender: 1
                      subType: 2
                    - syncKeyType: 5
                      itemType: 1
                      content:
                        msg:
                          MsgId: 5
                          FromUserName:
                            string: >-
                              v2_060000231003b20faec8c7e28811c4d5cc0ded37b0779c48c759a7446a87688c2774e5300c32@finder
                          ToUserName:
                            string: >-
                              v2_060000231003b20faec8c6e18f10c7d6c903ec3db0776955d3d97c6b329d6aa58693bcdb7ad1@finder
                          MsgType: 3
                          Content:
                            string: "<?xml version=\"1.0\"?>\n<msg>\n\t<img aeskey=\"38bd282fa5b21a42590269084f95975f\" encryver=\"1\" cdnthumbaeskey=\"38bd282fa5b21a42590269084f95975f\" cdnthumburl=\"3057020100044b30490201000204e49785f102032f5b0d0204e0689377020465b0cae1042436626432326532302d363466332d346135612d383238312d6636303061333033623762620204051438010201000405004c4c6d00\" cdnthumblength=\"1315\" cdnthumbheight=\"120\" cdnthumbwidth=\"120\" cdnmidheight=\"0\" cdnmidwidth=\"0\" cdnhdheight=\"0\" cdnhdwidth=\"0\" cdnmidimgurl=\"3057020100044b30490201000204e49785f102032f5b0d0204e0689377020465b0cae1042436626432326532302d363466332d346135612d383238312d6636303061333033623762620204051438010201000405004c4c6d00\" length=\"22001\" cdnbigimgurl=\"3057020100044b30490201000204e49785f102032f5b0d0204e0689377020465b0cae1042436626432326532302d363466332d346135612d383238312d6636303061333033623762620204051438010201000405004c4c6d00\" hdlength=\"1096\" md5=\"704de7ebbc107a51a4f0986253a6d3b6\" />\n\t<platform_signature></platform_signature>\n\t<imgdatahash></imgdatahash>\n</msg>\n"
                          Status: 3
                          ImgStatus: 2
                          ImgBuf:
                            iLen: 0
                          CreateTime: 1706085089
                          MsgSource: <msgsource><bizflag>0</bizflag></msgsource>
                          NewMsgId: 7744705344788547000
                          MsgSeq: 5
                        msgSessionId: >-
                          3eab1521919d4531c83a166faa56cf844737c4a295b127f3edcb68ed4375d049@findermsg
                        seq: 5
                        extinfo: CAIQAw==
                        isSender: 1
                      subType: 2
                  keyBuff: >-
                    CgQIARABCgQIAhAACgQIAxAACgQIBBAACgQIBRAFCgQIBhAACgQIBxAACgQICBAACgQICRAACgQIDBAAEAA=
          headers: {}
          x-apifox-name: 成功
      security: []
      x-apifox-folder: 基础API/视频号模块
      x-apifox-status: released
      x-run-in-apifox: https://app.apifox.com/web/project/3475559/apis/api-144552901-run
components:
  schemas: {}
  securitySchemes: {}
servers:
  - url: http://api.geweapi.com
    description: 测试环境
security: []

```
