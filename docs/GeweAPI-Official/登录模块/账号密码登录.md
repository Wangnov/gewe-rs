# 账号密码登录

## OpenAPI Specification

```yaml
openapi: 3.0.1
info:
  title: ''
  description: ''
  version: 1.0.0
paths:
  /gewe/v2/api/login/loginByAccount:
    post:
      summary: 账号密码登录
      deprecated: false
      description: >-
        - 第一步传 account、password、regionId、step=1 获取appid和验证二维码

        - 第一步执行成功后用原手机扫码（扫码要快，不然容易失效）

        - 第二步将第一步返回的appId放入参数并设置step=2 再次执行此接口

        -
        执行成功后，手机会退出微信，可手机再次登录微信，然后再走一遍[步骤1和步骤2，记得必须传appId取码](http://doc.geweapi.com/api-139908278)就能跳过新设备验证
      tags:
        - 基础API/账号管理
      parameters:
        - name: X-GEWE-TOKEN
          in: header
          description: PS：进入后台系统-点击Token中心-生成Token
          required: true
          example: '{{gewe-token}}'
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                appId:
                  type: string
                  title: 设备id
                proxyIp:
                  type: string
                  title: 自定义代理
                regionId:
                  type: string
                  title: 地区代理
                account:
                  type: string
                  title: 微信账号
                password:
                  type: string
                  title: 微信密码
                step:
                  type: integer
                  title: 登录步骤
                  description: 1：登录获取appid和二维码 2：扫码后执行登陆
              required:
                - appId
                - proxyIp
                - regionId
                - account
                - password
                - step
              x-apifox-orders:
                - appId
                - proxyIp
                - regionId
                - account
                - password
                - step
            example:
              appId: ''
              proxyIp: ''
              regionId: '320000'
              account: axi**21
              password: ab**56
              step: 1
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties:
                  ret:
                    type: integer
                  msg:
                    type: string
                  data:
                    type: object
                    properties: {}
                    description: 响应数据
                    x-apifox-orders: []
                required:
                  - ret
                  - msg
                  - data
                x-apifox-orders:
                  - ret
                  - msg
                  - data
              example: |-

                第一步返回
                {
                    "ret": 200,
                    "msg": "操作成功",
                    "data": {
                        "appId": "wx_example_app_id",
                        "base64Img": "/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgMCAgM***v/9k="
                    }
                }

                第二步返回
                {
                  "ret": 200,
                  "msg": "操作成功",
                  "data": {
                    "uuid": "AZ0yN8d1wJmiNfQBKFgu",
                    "headImgUrl": "http://wx.qlogo.cn/mmhead/ver_1/ZYUmcl1UNzyB2onM08Ij901TaUOLIjHj2UicK3XGDsjEWl4XgQN5IjodunHicBVsZiaZc1iaGCRfluAxkzyibbiau3WBfFj2nprzKp2KryicMjGIvDbWOQGmibwVK648a3o4A8hD/0",
                    "nickName": "G",
                    "expiredTime": 225,
                    "status": 1,
                    "loginInfo": null
                  }
                }
          headers: {}
          x-apifox-name: 成功
      security: []
      x-apifox-folder: 基础API/账号管理
      x-apifox-status: released
      x-run-in-apifox: https://app.apifox.com/web/project/3475559/apis/api-316270273-run
components:
  schemas: {}
  securitySchemes: {}
servers:
  - url: http://api.geweapi.com
    description: 测试环境
security: []

```
